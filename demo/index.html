<!doctype html>
<html lang="nl-nl">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	
	<title>WebBluetooth interface</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="o-content-width">

		<form>
			<fieldset>
				<legend>connection options</legend>
				<h3>filters</h3>
				<ul class="filters-list u-list--bare">
					<li class="filter-type">
						<label for="filter-services">service <span class="weak">(UUID)</span></label>
						<input class="input--uuid" id="filter-services" type="text" value="">
						<!-- <input class="input--uuid" id="filter-services" type="text" value="0xffe5"> -->
						<p class="explanation">
							valid UUID, or space-separated series of UUIDs<br>
							e.g. 'heart_rate', 0xffe5, 180d,  '0000180d-0000-1000-8000-00805f9b34fb'
						</p>
						<!--
							It must be a valid UUID alias (e.g. 0x1234), UUID (lowercase hex characters e.g. '00001234-0000-1000-8000-00805f9b34fb'), or recognized standard name from https://www.bluetooth.com/specifications/gatt/services e.g. 'alert_notification'.
						-->
						
					</li>
					<li class="filter-type">
						<label for="filter-name">name</label>
						<input id="filter-name" type="text" value="">
						<p class="explanation">
							Exact name; case sensitive. e.g. "SBrick"
						</p>
					</li>
					<li class="filter-type">
						<label for="filter-name=prefix">prefix</label>
						<input id="filter-name-prefix" type="text" value="">
						<p class="explanation">
							Starting characters of name; case insensitive e.g. "sbr" will match "SBrick"
						</p>
					</li>
				</ul>
				<h3>optional services</h3>
				<ul class="optional-services-list">

				</ul>
				<button id="btn--connect" class="btn btn--connect">Connect</button>
				<button id="btn--disconnect" class="btn btn--disconnect">Disonnect</button>
			</fieldset>

			<fieldset>
				<legend>services</legend>
				<ul class="services-list u-list--bare">
					<li class="service-row">
						<label for="write-service-uuid">service <span class="weak">(UUID)</span></label>
						<input type="text" id="write-service-uuid" value="0xffe5">
						<!-- <input class="input--uuid" id="write-service-uuid" type="text" value="4dc591b0-857c-41de-b5f1-15abda665b0c"> -->
						<p class="explanation">
							hex value, e.g. 0xffe5 or ffe5<br>
							SBrick remote: 4dc591b0-857c-41de-b5f1-15abda665b0c<br>
							MagicBlue: 0xffe5
						</p>

						<ul class="characteristics-list u-list--bare">
							<li class="characteristic">
								<ul class="characteristic__controls u-list--bare">
									<li class="characteristic__control">
										<label for="write-characteristic-uuid">characteristic <span class="weak">(UUID)</span></label>
										<input type="text" id="write-characteristic-uuid" value="0xffe9">
										<!-- <input class="input--uuid" id="write-characteristic-uuid" type="text" value="02b8cbcc-0e25-4bda-8790-a15f53e6010f"> -->
										<p class="explanation">
											hex value<br>
											e.g. 0xffe9 or ffe9<br>
											SBrick drive: 02b8cbcc-0e25-4bda-8790-a15f53e6010f<br>
											MagicBlue: 0xffe9
										</p>
									</li>
									<li class="characteristic__control">
											<label for="write-value">value</label>
											<input type="text" id="write-value" value="56 ff 00 ff bb f0 aa">
											<!-- <input id="write-value" type="text" value="01 00 00 c0"> -->
											<p class="explanation">
												space separated Uint8Array<br>
												e.g. 56 ff 00 ff bb f0 aa<br>
												SBrick: 01(drive) 0-3(port) 0-1(CW/CCW) 0-255(power)<br>
												MagicBlue: 56 RR GG BB bb f0 aa
											</p>
									</li>
									<li class="characteristic__control characteristic__control--buttons">
										<button class="btn btn--write" data-btn-write>write</button>
										<button class="btn btn--read" data-btn-write>read</button>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</fieldset>

		</form>

		<a name="uuids"></a>
		<h2>About UUIDs (Universally Unique IDentifiers)</h2>
		<p class="weak">
			Information on the internet is scattered and not always clear for my layman's knowledge. The following information is what I now think is correct ;)
		</p>
		<p>
			A UUID is a 128-bit number (e.g. 0000ffe5-0000-1000-8000-00805f9b34fb) formatted as 8-4-4-4-12 hexadecimals
		</p>
		<p>
			Some UUIDs are specified(?) by the Bluetooth Special Interest Group (SIG). These all end in -0000-1000-8000-00805f9b34fb. These UUIDs can also be referred to with a 32-bit or 16-bit variant, where the default part is left of. <br>
			e.g. service 0000ffe5-0000-1000-8000-00805f9b34fb (128-bit) is the same as 0000ffe5 (32-bit) and ffe5 (16-bit). (So far I've only encountered 32-bit numbers starting with 0000; I'm not sure whether there are UUIDs that really need the full 32 bits).<br>
			In the Web Bluetooth API, the 128-bit versions should be passed into functions as strings, the 32-bit and 16-bit versions as hexadecimal numbers, e.g. 0xffe5.
		</p>
		<p>
			Some of the SIG UUIDs also have a specific standard name (see https://www.bluetooth.com/specifications/gatt/services) e.g. 'heart_rate'. These names can also be used as UUID.
		</p>
		<h3>Lowercase and uppercase</h3>
		<p>
			I've come across both uppercase and lowercase UUIDs. Web Bluetooth expects you to use lowercase only.
		</p>

	</div><!-- /.o-content-width -->
	<script src="../src/webbluetooth.js"></script>
	<script src="js/interface.js"></script>
</body>
</html>
